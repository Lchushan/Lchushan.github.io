<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>deploy | Liang&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="我的个人网站">
    
    <link rel="preload" href="/assets/css/0.styles.64852305.css" as="style"><link rel="preload" href="/assets/js/app.8914b41c.js" as="script"><link rel="preload" href="/assets/js/3.7f8ab6bd.js" as="script"><link rel="preload" href="/assets/js/64.a5dc88b1.js" as="script"><link rel="prefetch" href="/assets/js/10.12b4bf37.js"><link rel="prefetch" href="/assets/js/11.986ec194.js"><link rel="prefetch" href="/assets/js/12.127689ae.js"><link rel="prefetch" href="/assets/js/13.528417d2.js"><link rel="prefetch" href="/assets/js/14.ccd1b44f.js"><link rel="prefetch" href="/assets/js/15.df2ae387.js"><link rel="prefetch" href="/assets/js/16.7bbe874c.js"><link rel="prefetch" href="/assets/js/17.4b65eca3.js"><link rel="prefetch" href="/assets/js/18.b4f5604c.js"><link rel="prefetch" href="/assets/js/19.ada119ee.js"><link rel="prefetch" href="/assets/js/2.f7dde802.js"><link rel="prefetch" href="/assets/js/20.d063279a.js"><link rel="prefetch" href="/assets/js/21.d15b3ac7.js"><link rel="prefetch" href="/assets/js/22.5185a1a5.js"><link rel="prefetch" href="/assets/js/23.91b5f7c4.js"><link rel="prefetch" href="/assets/js/24.545bc1fb.js"><link rel="prefetch" href="/assets/js/25.ce0688e9.js"><link rel="prefetch" href="/assets/js/26.14f7ddb2.js"><link rel="prefetch" href="/assets/js/27.1d380883.js"><link rel="prefetch" href="/assets/js/28.84fd7342.js"><link rel="prefetch" href="/assets/js/29.977a10c6.js"><link rel="prefetch" href="/assets/js/30.e27d5c6c.js"><link rel="prefetch" href="/assets/js/31.fef44b40.js"><link rel="prefetch" href="/assets/js/32.3cde5ab7.js"><link rel="prefetch" href="/assets/js/33.2fd0f2f0.js"><link rel="prefetch" href="/assets/js/34.6174b407.js"><link rel="prefetch" href="/assets/js/35.3457d0d3.js"><link rel="prefetch" href="/assets/js/36.c672256a.js"><link rel="prefetch" href="/assets/js/37.c5336199.js"><link rel="prefetch" href="/assets/js/38.f878aa15.js"><link rel="prefetch" href="/assets/js/39.7272608e.js"><link rel="prefetch" href="/assets/js/4.591798d0.js"><link rel="prefetch" href="/assets/js/40.1f5087ab.js"><link rel="prefetch" href="/assets/js/41.d8defd1f.js"><link rel="prefetch" href="/assets/js/42.4decf61e.js"><link rel="prefetch" href="/assets/js/43.1f54a9fb.js"><link rel="prefetch" href="/assets/js/44.05628c46.js"><link rel="prefetch" href="/assets/js/45.b64569a4.js"><link rel="prefetch" href="/assets/js/46.3e758616.js"><link rel="prefetch" href="/assets/js/47.754e4534.js"><link rel="prefetch" href="/assets/js/48.d7707287.js"><link rel="prefetch" href="/assets/js/49.c62b8419.js"><link rel="prefetch" href="/assets/js/5.ae5a8b30.js"><link rel="prefetch" href="/assets/js/50.60fbaa68.js"><link rel="prefetch" href="/assets/js/51.812c8fc9.js"><link rel="prefetch" href="/assets/js/52.bae4e31b.js"><link rel="prefetch" href="/assets/js/53.bdcc492b.js"><link rel="prefetch" href="/assets/js/54.c9eece36.js"><link rel="prefetch" href="/assets/js/55.bec15e04.js"><link rel="prefetch" href="/assets/js/56.3e4a4b07.js"><link rel="prefetch" href="/assets/js/57.300f3929.js"><link rel="prefetch" href="/assets/js/58.9b3bc2f8.js"><link rel="prefetch" href="/assets/js/59.b4f2f65a.js"><link rel="prefetch" href="/assets/js/6.c6d5d1da.js"><link rel="prefetch" href="/assets/js/60.6da1c705.js"><link rel="prefetch" href="/assets/js/61.0f431e1e.js"><link rel="prefetch" href="/assets/js/62.ca980bdb.js"><link rel="prefetch" href="/assets/js/63.b1d0e0d0.js"><link rel="prefetch" href="/assets/js/65.2134e59f.js"><link rel="prefetch" href="/assets/js/66.2ce26325.js"><link rel="prefetch" href="/assets/js/67.be6c5ba6.js"><link rel="prefetch" href="/assets/js/68.5ee46489.js"><link rel="prefetch" href="/assets/js/69.817ef5b5.js"><link rel="prefetch" href="/assets/js/7.39a2feef.js"><link rel="prefetch" href="/assets/js/70.bd026d5e.js"><link rel="prefetch" href="/assets/js/71.94cd51c9.js"><link rel="prefetch" href="/assets/js/72.2852256c.js"><link rel="prefetch" href="/assets/js/73.ff13867e.js"><link rel="prefetch" href="/assets/js/74.d43a4484.js"><link rel="prefetch" href="/assets/js/75.8a138783.js"><link rel="prefetch" href="/assets/js/76.75869419.js"><link rel="prefetch" href="/assets/js/77.85ccf9b3.js"><link rel="prefetch" href="/assets/js/78.d1f93c97.js"><link rel="prefetch" href="/assets/js/79.476c7345.js"><link rel="prefetch" href="/assets/js/8.6aa44381.js"><link rel="prefetch" href="/assets/js/80.75df788e.js"><link rel="prefetch" href="/assets/js/81.8dabfdfb.js"><link rel="prefetch" href="/assets/js/82.b373d124.js"><link rel="prefetch" href="/assets/js/83.543e5130.js"><link rel="prefetch" href="/assets/js/84.551d04d7.js"><link rel="prefetch" href="/assets/js/85.21a99aad.js"><link rel="prefetch" href="/assets/js/9.ab9a5c08.js">
    <link rel="stylesheet" href="/assets/css/0.styles.64852305.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Liang's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  vuepress
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端知识" class="dropdown-title"><span class="title">前端知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端知识" class="mobile-dropdown-title"><span class="title">前端知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/插件小技巧/" class="nav-link">
  插件小技巧
</a></li><li class="dropdown-item"><!----> <a href="/前端问题/" class="nav-link">
  前端问题
</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  vue问题
</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">
  react问题
</a></li><li class="dropdown-item"><!----> <a href="/优化问题/" class="nav-link">
  优化问题
</a></li><li class="dropdown-item"><!----> <a href="/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/regular&amp;git/regular/" class="nav-link">
  正则&amp;git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="画图小软件" class="dropdown-title"><span class="title">画图小软件</span> <span class="arrow down"></span></button> <button type="button" aria-label="画图小软件" class="mobile-dropdown-title"><span class="title">画图小软件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/three.js/" class="nav-link">
  three.js
</a></li><li class="dropdown-item"><!----> <a href="/eChart/" class="nav-link">
  eChart
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微前端" class="dropdown-title"><span class="title">微前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="微前端" class="mobile-dropdown-title"><span class="title">微前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/qiankun/" class="nav-link">
  qiankun
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/progress/" class="nav-link">
  记录问题
</a></li><li class="dropdown-item"><!----> <a href="/小案例/" class="nav-link">
  小案例
</a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/Lchu3/lchushan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  vuepress
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端知识" class="dropdown-title"><span class="title">前端知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端知识" class="mobile-dropdown-title"><span class="title">前端知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/插件小技巧/" class="nav-link">
  插件小技巧
</a></li><li class="dropdown-item"><!----> <a href="/前端问题/" class="nav-link">
  前端问题
</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  vue问题
</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">
  react问题
</a></li><li class="dropdown-item"><!----> <a href="/优化问题/" class="nav-link">
  优化问题
</a></li><li class="dropdown-item"><!----> <a href="/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/regular&amp;git/regular/" class="nav-link">
  正则&amp;git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="画图小软件" class="dropdown-title"><span class="title">画图小软件</span> <span class="arrow down"></span></button> <button type="button" aria-label="画图小软件" class="mobile-dropdown-title"><span class="title">画图小软件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/three.js/" class="nav-link">
  three.js
</a></li><li class="dropdown-item"><!----> <a href="/eChart/" class="nav-link">
  eChart
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微前端" class="dropdown-title"><span class="title">微前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="微前端" class="mobile-dropdown-title"><span class="title">微前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/qiankun/" class="nav-link">
  qiankun
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/progress/" class="nav-link">
  记录问题
</a></li><li class="dropdown-item"><!----> <a href="/小案例/" class="nav-link">
  小案例
</a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/Lchu3/lchushan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98/" aria-current="page" class="sidebar-link">优化</a></li><li><a href="/优化问题/tips.html" class="sidebar-link">小技巧</a></li><li><a href="/优化问题/deploy.html" class="active sidebar-link">相关问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#proto-和-prototype-之前有什么关系" class="sidebar-link">__proto__ 和 prototype 之前有什么关系？</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#js中基础数据类型有哪几种-了解包装对象么" class="sidebar-link">js中基础数据类型有哪几种?了解包装对象么？</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#如何中断ajax请求" class="sidebar-link">如何中断ajax请求？</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#什么是同步-什么是异步" class="sidebar-link">什么是同步？什么是异步？</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#什么是回调-回调使用中存在什么问题" class="sidebar-link">什么是回调?回调使用中存在什么问题?</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#什么是宏任务-什么是微任务" class="sidebar-link">什么是宏任务？什么是微任务？</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#promise-allsettled-了解吗-动手实现一下-promise-allsettled" class="sidebar-link">Promise.allSettled 了解吗？动手实现一下 Promise.allSettled?</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#如何判断当前脚本运行在浏览器还是node环境中" class="sidebar-link">如何判断当前脚本运行在浏览器还是node环境中？</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#介绍一下-node-常用模块-并且详细介绍下-stream" class="sidebar-link">介绍一下 node 常用模块，并且详细介绍下 Stream?</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#node-如何和-mysql-进行通信" class="sidebar-link">Node 如何和 MySQL 进行通信?</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#websocket-是怎么实现点对点通信和广播通信的" class="sidebar-link">WebSocket 是怎么实现点对点通信和广播通信的？</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#说一下-cors-的简单请求和复杂请求的区别" class="sidebar-link">说一下 CORS 的简单请求和复杂请求的区别?</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#单页面应用和多页面应用区别及优缺点" class="sidebar-link">单页面应用和多页面应用区别及优缺点?</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#在组件的通信中-eventbus-非常经典-你能手写实现下-eventbus-么" class="sidebar-link">在组件的通信中 EventBus 非常经典，你能手写实现下 EventBus 么？</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#请介绍一下装饰者模式-并实现" class="sidebar-link">请介绍一下装饰者模式，并实现？</a></li><li class="sidebar-sub-header"><a href="/优化问题/deploy.html#了解js中设计模式吗-动手实现一下单例模式" class="sidebar-link">了解js中设计模式吗？动手实现一下单例模式？</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deploy"><a href="#deploy" class="header-anchor">#</a> deploy</h1> <h2 id="proto-和-prototype-之前有什么关系"><a href="#proto-和-prototype-之前有什么关系" class="header-anchor">#</a> <code>__proto__</code> 和 <code>prototype</code> 之前有什么关系？</h2> <p>所有对象都有 <code>__proto__</code> 属性，函数这个特殊对象除了具有 <code>__proto__</code> 属性，还有特有的原型属性<code>prototype</code>。<code>prototype</code>对象默认有两个属性，<code>constructor</code>属性和<code>__proto__</code> 属性。prototype属性可以给函数和对象添加可共享（继承）的方法、属性，而<code>__proto__</code> 是查找某函数或对象的原型链方式。<code>constructor</code>，这个属性包含了一个指针，指回原构造函数。</p> <h2 id="js中基础数据类型有哪几种-了解包装对象么"><a href="#js中基础数据类型有哪几种-了解包装对象么" class="header-anchor">#</a> <code>js</code>中基础数据类型有哪几种?了解包装对象么？</h2> <p>基础数据类型有6种：
<code>boolean</code> <code>null</code> <code>undefined</code> <code>number</code> <code>string</code> <code>symbol</code></p> <p>基础数据类型都是值 ，所以没有方法提供调用的</p> <p>例如：<code>undefined.split(&quot;&quot;)</code>;那为什么比如 <code>”abc“.split(&quot;&quot;)</code>类似这种调用可以被允许？原因是<code>js</code>中会存在包装对象，会把字符串先包装成对象然后在调用对象下的一些方法，方法调用完成之后在销毁对象，这样就完成了基础数据类型的函数调用功能。</p> <h2 id="如何中断ajax请求"><a href="#如何中断ajax请求" class="header-anchor">#</a> 如何中断<code>ajax</code>请求？</h2> <p>原生里可以通过<code>XMLHttpRequest</code>对象上的abort方法来中断<code>ajax</code>。注意abort方法不能阻止向服务器发送请求，只能停止当前<code>ajax</code>请求。</p> <h2 id="什么是同步-什么是异步"><a href="#什么是同步-什么是异步" class="header-anchor">#</a> 什么是同步？什么是异步？</h2> <p>同步和异步是一种消息通知机制</p> <p>– 同步阻塞: A调用B，B处理获得结果，才返回给A。A在这个过程中，一直等待B的处理结果，没有拿到结果之前，需要A（调用者）一直等待和确认调用结果是否返回，拿到结果,然后继续往下执行。</p> <p>做一件事，没有拿到结果之前，就一直在这等着，一直等到有结果了,再去做下边的事</p> <p>– 异步非阻塞: A调用B，无需等待B的结果，B通过状态，通知等来通知A或回调函数来处理。</p> <h2 id="什么是回调-回调使用中存在什么问题"><a href="#什么是回调-回调使用中存在什么问题" class="header-anchor">#</a> 什么是回调?回调使用中存在什么问题?</h2> <p>回调即是函数指针的调用，即是一个通过函数指针调用的函数。如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	callback <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是回调函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p>// 使用回调函数有一个很大缺点 就是造成回调地狱，回到地狱是 为了实现某些逻辑出现函数的层层嵌套，类似如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">move</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">move</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">move</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">move</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;所有运动完毕 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>回调地狱会造成可读性及可维护性变差。同样每个嵌套函数耦合性强，一层变动会引起其他的结果变动。同样回调地狱如果出现错误不好处理错误。</p> <p>解决回调地狱问题可以通过观察者模式、<code>promise</code>、<code>async /await</code>来处理。</p> <h2 id="什么是宏任务-什么是微任务"><a href="#什么是宏任务-什么是微任务" class="header-anchor">#</a> 什么是宏任务？什么是微任务？</h2> <p>微任务：一个需要异步执行的函数，执行时机是在主函数执行结束之后、当前宏任务结束之前。
宏任务：宏任务的时间粒度比较大，执行的时间间隔是不能精确控制的，对一些高实时性的需求就不太符合。
常见微任务：</p> <div class="language- extra-class"><pre><code>1. Promise.then
MutaionObserver
Object.observe（已废弃；Proxy 对象替代）
process.nextTick（Node.js）
常见宏任务 ：
1. script (可以理解为外层同步代码)
2. setTimeout/setInterval
3. UI rendering/UI事件
4. postMessage，MessageChannel
5. setImmediate，I/O（Node.js）
</code></pre></div><h2 id="promise-allsettled-了解吗-动手实现一下-promise-allsettled"><a href="#promise-allsettled-了解吗-动手实现一下-promise-allsettled" class="header-anchor">#</a> <code>Promise.allSettled</code> 了解吗？动手实现一下 <code>Promise.allSettled</code>?</h2> <p><code>Promise.allSettled</code>是<code>ES2020</code>新特性，可以执行多个<code>promise</code>对象，获取多个<code>promise</code>对象状态，无论成功或者失败的状态。实现代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyallSettled</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">let</span> resArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
			item<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                obj<span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;fulfilled&quot;</span><span class="token punctuation">;</span>
                obj<span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">;</span>
				resArr<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>
				num<span class="token operator">++</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">===</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
					<span class="token function">resolve</span><span class="token punctuation">(</span>resArr<span class="token punctuation">)</span><span class="token punctuation">;</span> 
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">err</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
				obj<span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;rejected&quot;</span><span class="token punctuation">;</span>
				obj<span class="token punctuation">.</span>reson <span class="token operator">=</span> err<span class="token punctuation">;</span>
				resArr<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>
				num<span class="token operator">++</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">===</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
					<span class="token function">resolve</span><span class="token punctuation">(</span>resArr<span class="token punctuation">)</span><span class="token punctuation">;</span> 
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="如何判断当前脚本运行在浏览器还是node环境中"><a href="#如何判断当前脚本运行在浏览器还是node环境中" class="header-anchor">#</a> 如何判断当前脚本运行在浏览器还是node环境中？</h2> <p>可以通过判断在浏览器端或者是node端独特的全局对象来区分环境。例如：浏览器端的window 或者是node端的process 全局对象。具体代码如下 ：</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span> process <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;node&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;浏览器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre></div><h2 id="介绍一下-node-常用模块-并且详细介绍下-stream"><a href="#介绍一下-node-常用模块-并且详细介绍下-stream" class="header-anchor">#</a> 介绍一下 node 常用模块，并且详细介绍下 Stream?</h2> <p>常用模块如：内置模块 http，通过http来构建本地服务器，例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span>  http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>同样也可以通过<code>http</code>实现服务端的网络请求。还有<code>fs</code>模块可以通过<code>fs</code>模块实现服务端的文件操作，实现服务端文件的增删改查操作。还有<code>path</code>模块提供各种处理路径的<code>api</code>。<code>body-parser</code>模块来处理接收post请求到服务端的数据。等等模块。<code>stream</code> 流是一种抽象数据结构，可以用它来读取和写入数据，通过流来读取和写入数据可以防止内存溢出，采取流方式处理数据会把数据分成<code>64k</code>小块数据，异步依次来进行传递，更加节约性能。问题：node里为什么有些模块需要安装，有些不需要安装？答：<code>nodejs</code>在安装好之后会有很多内置模块，如：<code>path</code>、<code>http</code>、<code>util</code>、<code>fs</code>模块等等。还有一些需要第三方模块支持。可以通过包管理器来安装，如：<code>cookie</code>、<code>session</code>、<code>cheerio</code>等第三方模块。可以在<code>npm</code>官网查找相关模块。https://www.npmjs.com/</p> <h2 id="node-如何和-mysql-进行通信"><a href="#node-如何和-mysql-进行通信" class="header-anchor">#</a> <code>Node</code> 如何和 <code>MySQL</code> 进行通信?</h2> <p>可以借助一些<code>sql</code>相关模块实现<code>node</code>和<code>mysql</code>数据库的通行，这里以<code>mysql2</code>模块为例，代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 第一步：安装`mysql2`模块</span>
npm install <span class="token operator">--</span>save mysql2

<span class="token comment">// 第二步：连接数据库</span>
<span class="token keyword">const</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mysql2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// 引入mysql2模块</span>
<span class="token keyword">const</span> connection <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createConnection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>  <span class="token comment">//主机地址   </span>
    <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>  <span class="token comment">// 数据库用户名   </span>
    <span class="token literal-property property">database</span><span class="token operator">:</span> <span class="token string">'test'</span>  <span class="token comment">//数据库名称</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 第三步：通过query来执行sql语句 ，如下：</span>
connection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span> <span class="token string">'SELECT * FROM `table` WHERE `name` = &quot;Page&quot; AND `age` &gt; 45'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results<span class="token punctuation">,</span> fields</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 查询到的结果</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fields<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取字段的相关信息   </span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="websocket-是怎么实现点对点通信和广播通信的"><a href="#websocket-是怎么实现点对点通信和广播通信的" class="header-anchor">#</a> <code>WebSocket</code> 是怎么实现点对点通信和广播通信的？</h2> <p><code>webSocket</code>是一种全双工通信协议。<code>websocket</code> 让服务端和客户端通信变得简单。最大的特点是可以通过服务端主动推送消息到客户端。前端基于<code>nodejs</code> 和 <code>WebSocket</code>实现 点对点 及广播通信。广播通信顾名思义是类似广播一样给多个人进行广播消息。实现广播通信可以使用很多模块 主要能够把流程描述清楚就可以了。我这里采取的是<code>socket.io</code>模块。服务端监听<code>socket</code>链接：</p> <div class="language-js extra-class"><pre class="language-js"><code>io<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;connection&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">socket</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;有socket连接&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>通过监听连接过来的socket对象广播对应的信息：</p> <div class="language-js extra-class"><pre class="language-js"><code>socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;addData&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>	<span class="token comment">//广播除了自己之外的其他订</span>
    socket<span class="token punctuation">.</span>broadcast<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;addInputData&quot;</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>客户端连接及发送对应的socket请求：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> socket <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&quot;ws://localhost:3000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//连接socket服务器 </span>
socket<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;addData&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//发送socket事件点对点通信顾名思义就是一对一的通信，例如多人实时聊天，可以指定用户来发送消息 。</span>
</code></pre></div><p>点对点通信中需要注意服务端需要记录每个socket客户端的连接 ，需要将客户端及服务端socket对象关联起来。广播数据的时候，广播指定对象就可以了。如下：服务端记录每一个连接过来的socket对象，且和用户id进行关联：</p> <div class="language-js extra-class"><pre class="language-js"><code>socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">,</span><span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    usersObj<span class="token punctuation">[</span>data<span class="token punctuation">]</span> <span class="token operator">=</span> socket<span class="token punctuation">;</span>   <span class="token comment">//通过usersObj来记录连接过来的用户</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>给指定的socket对象进行广播：</p> <div class="language-js extra-class"><pre class="language-js"><code>socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> uid <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>uid<span class="token punctuation">;</span>
    userObj<span class="token punctuation">[</span>uid<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;content&quot;</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>客户端监听点对点广播事件：</p> <div class="language-js extra-class"><pre class="language-js"><code>socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;content&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>总结，<code>WebSocket</code> 区分广播通信及点对点通信核心在于区分每一个连接的<code>socket</code>对象。广播通信需要对于非自身的所有连接的<code>socket</code>对象进行通信。而点对点通信，通过关联用户及<code>socket</code>对象，且保存每一个<code>socket</code>连接，查找指定的<code>socket</code>对象，来达到发送指定<code>socket</code>连接的目的。</p> <h2 id="说一下-cors-的简单请求和复杂请求的区别"><a href="#说一下-cors-的简单请求和复杂请求的区别" class="header-anchor">#</a> 说一下 <code>CORS</code> 的简单请求和复杂请求的区别?</h2> <p><code>CORS(Cross-origin resource sharing)</code>，跨域资源共享，是一份浏览器技术的规范，用来避开浏览器的同源策略。相关头部设置如下：<code>Access-Control-Allow-Origin</code> 指示请求的资源能共享给哪些域。 <code>Access-Control-Allow-Credentials</code> 指示当请求的凭证标记为 true 时，是否响应该请求。 <code>Access-Control-Allow-Headers</code> 用在对预请求的响应中，指示实际的请求中可以使用哪些 HTTP 头。 <code>Access-Control-Allow-Methods</code> 指定对预请求的响应中，哪些 HTTP 方法允许访问请求的资源。 <code>Access-Control-Expose-Headers</code> 指示哪些 HTTP 头的名称能在响应中列出。 <code>Access-Control-Max-Age</code> 指示预请求的结果能被缓存多久。 <code>Access-Control-Request-Headers</code> 用于发起一个预请求，告知服务器正式请求会使用那些 HTTP 头。 <code>Access-Control-Request-Method</code> 用于发起一个预请求，告知服务器正式请求会使用哪一种 HTTP 请求方法。 Origin 指示获取资源的请求是从什么域发起的。<code>CORS</code>可以分成两种简单请求和复杂请求。简单请求是满足以下下条件的请求HTTP方法是下列之一<code>HEADGETPOSTHTTP</code>头信息不超出以下几种字段<code>AcceptAccept-LanguageContent-LanguageLast-Event-IDContent-Type</code>，但仅能是下列之一<code>application/x-www-form-urlencodedmultipart/form-datatext/plain</code>反之就是复杂请求，复杂请求表面上看起来和简单请求使用上差不多，但实际上浏览器发送了不止一个请求。其中最先发送的是一种&quot;预请求&quot;，此时作为服务端，也需要返回&quot;预回应&quot;作为响应。预请求实际上是对服务端的一种权限请求，只有当预请求成功返回，实际请求才开始执行。</p> <h2 id="单页面应用和多页面应用区别及优缺点"><a href="#单页面应用和多页面应用区别及优缺点" class="header-anchor">#</a> 单页面应用和多页面应用区别及优缺点?</h2> <h4 id="单页面应用-spa-单页面应用。"><a href="#单页面应用-spa-单页面应用。" class="header-anchor">#</a> 单页面应用（SPA） 单页面应用。</h4> <h6 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h6> <p>用户体验好，快，内容的改变不需要重新加载整个页面，基于这一点spa对服务器压力较小前后端分离页面转场体验好</p> <h6 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点：</h6> <p>不利于<code>seo</code>导航不可用，需要自己实现导航初次加载耗时长页面复杂度提高</p> <h4 id="多页面应用"><a href="#多页面应用" class="header-anchor">#</a> 多页面应用：</h4> <h6 id="优点-2"><a href="#优点-2" class="header-anchor">#</a> 优点 ：</h6> <p>1、多页面应用对于 <code>seo</code>更加友好。</p> <p>2、更容易扩展。</p> <p>3、更易的数据分析。</p> <h6 id="缺点-2"><a href="#缺点-2" class="header-anchor">#</a> 缺点：</h6> <p>1、程序开发成本高。</p> <p>2.增加服务端压力，多页面会不停的加载。</p> <p>3、用户体验相对较差。</p> <h2 id="在组件的通信中-eventbus-非常经典-你能手写实现下-eventbus-么"><a href="#在组件的通信中-eventbus-非常经典-你能手写实现下-eventbus-么" class="header-anchor">#</a> 在组件的通信中 <code>EventBus</code> 非常经典，你能手写实现下 <code>EventBus</code> 么？</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">EventBusClass</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>msgList <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">msgName<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>msgName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span><span class="token punctuation">,</span>fn<span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span><span class="token punctuation">,</span> fn<span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span> <span class="token operator">=</span> fn<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>  
    <span class="token function">one</span><span class="token punctuation">(</span><span class="token parameter">msgName<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span> <span class="token operator">=</span> fn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>  
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token parameter">msgName<span class="token punctuation">,</span>msg</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>msgName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token function">fn</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">off</span><span class="token punctuation">(</span><span class="token parameter">msgName</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>msgName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msgList<span class="token punctuation">[</span>msgName<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> eventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventBusClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>EventBus <span class="token operator">=</span> eventBus<span class="token punctuation">;</span>
</code></pre></div><h2 id="请介绍一下装饰者模式-并实现"><a href="#请介绍一下装饰者模式-并实现" class="header-anchor">#</a> 请介绍一下装饰者模式，并实现？</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">luban</span> <span class="token punctuation">{</span>
    <span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'这里是基础伤害'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">firstSkill</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">luban</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>luban <span class="token operator">=</span> luban<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>luban<span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'发射手雷'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> luban1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">luban</span><span class="token punctuation">;</span>
luban1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">firstSkill</span><span class="token punctuation">(</span>luban1<span class="token punctuation">)</span><span class="token punctuation">;</span>
luban1<span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="了解js中设计模式吗-动手实现一下单例模式"><a href="#了解js中设计模式吗-动手实现一下单例模式" class="header-anchor">#</a> 了解<code>js</code>中设计模式吗？动手实现一下单例模式？</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> CreateSingle <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> instance<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Single</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> <span class="token function-variable function">Single</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token class-name">Single</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token keyword">let</span> lili <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateSingle</span><span class="token punctuation">(</span><span class="token string">'lili'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> wuyou <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateSingle</span><span class="token punctuation">(</span><span class="token string">'wuyou'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
wuyou<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/优化问题/tips.html" class="prev">
        小技巧
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8914b41c.js" defer></script><script src="/assets/js/3.7f8ab6bd.js" defer></script><script src="/assets/js/64.a5dc88b1.js" defer></script>
  </body>
</html>
